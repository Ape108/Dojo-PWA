{% extends "base.html" %}
{% load i18n socialaccount %}

{% block content %}
<div class="max-w-md mx-auto">
    <div class="text-center mb-8">
        <h2 class="text-3xl">{% trans "Sign In" %}</h2>
    </div>

    {% provider_login_url "google" as google_login_url %}
    <a href="{{ google_login_url }}" class="w-full flex items-center justify-center gap-3 p-3 mb-6 font-semibold border rounded-lg transition-all duration-300 ease-in-out hover-border-gold hover:text-white" style="color: var(--text-main); border-color: var(--border-color);">
        <svg class="w-5 h-5" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="google" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512"><path fill="currentColor" d="M488 261.8C488 403.3 381.5 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 126 23.4 172.9 61.5l-62.7 62.7C337 97.4 294.6 80 248 80 142.1 80 64 165.2 64 256s78.1 176 184 176c98.2 0 176-79.8 176-176 0-24.4-4.5-47.7-12.2-68.6H248v-85.3h236.1c2.3 12.7 3.9 25.9 3.9 39.7z"></path></svg>
        {% trans "Sign in with Google" %}
    </a>
    
    <div class="relative flex items-center my-8">
        <div class="flex-grow border-t" style="border-color: var(--border-color);"></div>
        <span class="flex-shrink mx-4 text-sm" style="color: var(--border-color);">Or</span>
        <div class="flex-grow border-t" style="border-color: var(--border-color);"></div>
    </div>

    <form class="login space-y-6" method="POST" action="{% url 'account_login' %}">
        {% csrf_token %}
        
        <div>
            <label for="id_login" class="block text-sm font-medium mb-2" style="color: var(--text-main);">Username</label>
            <input type="text" name="login" id="id_login" autocomplete="username" required
                   class="block w-full px-3 py-2 border rounded-md shadow-sm sm:text-sm bg-transparent focus:outline-none focus:ring-1"
                   style="border-color: var(--border-color); color: var(--text-heading); caret-color: var(--accent-gold); --tw-ring-color: var(--accent-gold);">
        </div>

        <div>
            <label for="id_password" class="block text-sm font-medium mb-2" style="color: var(--text-main);">Password</label>
            <input type="password" name="password" id="id_password" autocomplete="current-password" required
                   class="block w-full px-3 py-2 border rounded-md shadow-sm sm:text-sm bg-transparent focus:outline-none focus:ring-1"
                   style="border-color: var(--border-color); color: var(--text-heading); caret-color: var(--accent-gold); --tw-ring-color: var(--accent-gold);">
        </div>

        {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
        {% endif %}
        
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <input id="id_remember" name="remember" type="checkbox" class="h-4 w-4 rounded" style="background-color: transparent; border-color: var(--border-color); color: var(--accent-gold); --tw-ring-color: var(--accent-gold);">
                <label for="id_remember" class="ml-2 block text-sm" style="color: var(--text-main);">Remember Me</label>
            </div>
        </div>

        <div>
            <button type="submit" class="w-full p-3 font-semibold border rounded-lg transition-all duration-300 ease-in-out hover-border-gold hover:text-white" style="color: var(--text-main); border-color: var(--border-color);">
                {% trans "Sign In" %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
